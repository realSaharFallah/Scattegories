<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <link rel="stylesheet" href="stilark.css">
</head>
<body style="background-color: black;">
    <header>
        <nav>
            <a href="htmlcss.html">Rulebook</a>
            <a href="bildepunkter.html">About us</a>
        </nav>
    </header>

    <div class="welcomecontainer">
    <h1 class="welcome-text" id="welcome" style="max-width: 80%; position: relative; left: 0;"></h1>
    <h2 id="purpose"></h2>
    <div id="buttonContainer">
        <button id="newround"> Start New Round</button>
        <button id="score">Score Others' Answers</button>
    </div>
    </div>

    <div id="fadeText" style="opacity: 0; color: white;"></div> 
    <div id="whiteBox" style="background-color: #f0f0f0; width:0px; height: 0px; margin: 0 auto;">
    <table id="quizTable" style="opacity:0;">
        <!-- First row -->
        <tr>
            <td>
                <div style="display: flex;">
                    <p id="letterCircle"></p>
                </div>
            </td>  
            <td>
                <div id="timeContainer">
                    <span class="material-symbols-outlined">timer</span>
                    <p class="time-left"></p>
                </div>                
            </td> 
        </tr>

        <!-- Second row -->
        <tr id="thin-row">
            <td id="secondRow" style=" text-align: center; width: 100%;" colspan="2"></td> <!-- colspan is number of solumns that it spans  -->
        </tr>

        <!-- Third row (12 sub-rows with 2 columns each) -->
        <tbody id="thirdRow" class="red-border"></tbody>    
    </table>
</div>

    <script src="script.js"></script>
    <script>
        let header = document.querySelector("header")
        header.style.opacity = '1'
        let textContainer = document.getElementById("welcome")
        let username = localStorage.getItem("username")
        let textToDisplay = "Welcome, " + username + "!"
        let textContainer2 = document.getElementById("purpose")
        let textToDisplay2  = "Well... What are you here for?"
        let index1 = 0
        let index2 = 0
        let index3 = 0

        function displayText() {
            if (index1 < textToDisplay.length) {
                if (textToDisplay[index1] === username[index3]) {
                    textContainer.innerHTML += `<span class="highlight">${textToDisplay[index1]}</span>`;
                    index3++
                } else {
                    textContainer.innerHTML += textToDisplay[index1];
                }
                index1++;
                setTimeout(displayText, 100);
            } else {
                setTimeout(function () {
                    animatePurposeText();
                }, 500); // Delay before displaying purpose text
            }
        }

        // Function to animate purpose text
        function animatePurposeText() {
            if (index2 < textToDisplay2.length) {
                textContainer2.innerHTML += textToDisplay2[index2];
                index2++;
                setTimeout(animatePurposeText, 100);
            }
            else if(index2===textToDisplay2.length){
                showButtons()
            }
        }

        function showButtons(){
            const buttonContainer = document.getElementById("buttonContainer")
            buttonContainer.style.opacity="1"
        }
    

  displayText()


  let btnNewround = document.getElementById("newround")
  let btnScore = document.getElementById("score")

btnNewround.addEventListener('click', animateWelcomeText)
btnNewround.addEventListener('click', fadetextfunc)
btnScore.addEventListener('click', animateWelcomeText)


function animateWelcomeText() {
    const welcomeText = document.getElementById('welcome');
    // styles for animation
    welcomeText.style.position = "absolute"
    welcomeText.style.fontSize = "20px"
    welcomeText.style.fontWeight = "normal"
    welcomeText.style.top = '15px';
    welcomeText.style.paddingTop = '0px';
    welcomeText.style.left = '20px';
    welcomeText.style.marginLeft = '20px';
    welcomeText.style.zIndex = 2
    buttonContainer.remove()
    textContainer2.remove()
}

function fadetextfunc(){
    const fadeText = document.getElementById('fadeText');
    const letterNow = getRandomLetter()
    const letterCircle = document.getElementById("letterCircle")
    let secondRow =  document.getElementById("secondRow")
    letterCircle.innerHTML = letterNow
    secondRow.innerHTML = "Answer each category with a word or phrase starting with the letter " + letterNow

    fadeText.innerHTML  = "Answer each category starting with the letter: " + letterNow
            fadeText.style.opacity = '1'; // Fade in
            setTimeout(function() {
                fadeText.style.opacity = '0'; 
            }, 3000);

            const whiteBox = document.getElementById('whiteBox');
            const quizTable = document.getElementById('quizTable')
            setTimeout(function() {
                whiteBox.style.width = '70%';
                whiteBox.style.height = '90%';
                quizTable.style.width = '100%';
                quizTable.style.height = '100%';
                quizTable.style.opacity = "1"
            }, 4000); // Start growing the white box after 2 seconds*

            // Populate table rows with categories and text input areas
            populateTable();

            setTimeout(updateTime,3000);
        }

        // Function to populate table rows with categories and text input areas
        function populateTable() {
            const categories = [
                "Video Games", "Electronic Gadgets", "Board Games", "Things That Use a Remote", "Card Games",
                "Internet Lingo", "Offensive Words", "Wireless Things", "Computer Parts", "Software",
                "Websites", "Game Terms", "Things in a Grocery Store", "Reasons to Quit Your Job", 
                "Things That Have Stripes", "Tourist Attractions", "Diet Foods", "Things Found in a Hospital",
                "Food/Drink That Is Green", "Weekend Activities", "Acronyms", "Seafood", "Christmas Songs",
                "Words Ending in '-N'", "Words With Double Letters", "Children’s Books", "Things Found at a Bar",
                "Sports Played Indoors", "Names Used in Songs", "Foods You Eat Raw", "Places in Europe",
                "Olympic Events", "Things You See at the Zoo", "Math Terms", "Animals in Books or Movies",
                "Things to Do at a Party", "Kinds of Soup", "Things Found in New York", "Things You Get Tickets For",
                "Things You Do at Work", "Foreign Words Used in English", "Things You Shouldn’t Touch",
                "Spicy Foods", "Things at a Carnival", "Things You Make", "Places to Hang Out", "Animal Noises",
                "Computer Programs", "Honeymoon Spots", "Things You Buy for Kids", "Things That Can Kill You",
                "Reasons to Take Out a Loan", "Words Associated With Winter", "Things to Do on a Date",
                "Historic Events", "Things You Store Items In", "Things You Do Every Day", "Things You Get in the Mail",
                "Things You Save Up to Buy", "Things You Sit In/On", "Reasons to Make a Phone Call", "Types of Weather",
                "Titles People Can Have", "Things That Have Buttons", "Items You Take on a Trip", "Things That Have Wheels",
                "Reasons to Call 911", "Things That Make You Smile", "Ways to Kill Time", "Things That Can Get You Fired",
                "Hobbies", "Holiday Activities"
            ];

            const thirdRow = document.getElementById('thirdRow');
            for (let i = 0; i < 12; i++) {
                const row = document.createElement("tr");
                const column1 = document.createElement("td");
                const column2 = document.createElement("td");

                const randomCategory = categories[Math.floor(Math.random() * categories.length)];
                const input = document.createElement("input");
                input.setAttribute("type", "text");
                input.setAttribute("placeholder", "Type here...");
                
                column1.textContent = randomCategory;
                column2.appendChild(input);
                
                row.appendChild(column1);
                row.appendChild(column2);
                
                thirdRow.appendChild(row);
            }
        }

        const timeLeftElement = document.querySelector('.time-left')
        let timeLeft = 120

        function updateTime() {
            // Convert time to minutes and seconds
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;

            // Display the time in the paragraph element
            timeLeftElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            // Check if the timer has reached 0
            if (timeLeft > 0) {
              // Decrement time by 1 second
              timeLeft--;
              // Call updateTime again after 1 second
              setTimeout(updateTime, 1000);
            }
        }
    </script>
</body>
</html>
