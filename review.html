<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Review Answers</title>
</head>
<body>
  <h1>Review Answers</h1>
  <div id="answers"></div>
  <button onclick="submitScores()">Submit Scores</button>

  <script>
    // Retrieve answers, usernames, and scores from sessionStorage
    const answers = JSON.parse(sessionStorage.getItem('answers'));
    const usernames = JSON.parse(sessionStorage.getItem('usernames'));
    let scores = JSON.parse(sessionStorage.getItem('scores')) || {};

    // Display answers on the page
    const answersDiv = document.getElementById('answers');
    for (const username in answers) {
      answersDiv.innerHTML += `
        <div>
          <p><strong>${username}:</strong></p>
          <p>${answers[username]}</p>
          <button onclick="acceptAnswer('${username}')">+</button>
          <button onclick="rejectAnswer('${username}')">-</button>
        </div>
        <hr>
      `;
    }

    // Function to accept an answer
    function acceptAnswer(username) {
      if (username !== getCurrentUsername()) {
        scores[username] = (scores[username] || 0) + 1; // Increment score
        updateScoreboard();
      }
    }

    // Function to reject an answer
    function rejectAnswer(username) {
      if (username !== getCurrentUsername()) {
        scores[username] = (scores[username] || 0) - 1; // Decrement score
        updateScoreboard();
      }
    }

    // Function to update the scoreboard
    function updateScoreboard() {
      const scoreboard = document.getElementById('scoreboard');
      scoreboard.innerHTML = '<h2>Scoreboard</h2>';
      for (const username in scores) {
        scoreboard.innerHTML += `<p>${username}: ${scores[username]}</p>`;
      }
    }

    // Function to submit scores
    function submitScores() {
      sessionStorage.setItem('scores', JSON.stringify(scores));
      alert('Scores submitted successfully!');
    }

    // Function to get the current player's username
    function getCurrentUsername() {
      return prompt('Enter your username:');
    }

    // Initialize the scoreboard
    updateScoreboard();
  </script>
  <div id="scoreboard"></div>
</body>
</html>
